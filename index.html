<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="description"
    content="A Feed-Forward Framework for Parametric Inference of CAD Sketches via Rendering Self-Supervision.">
  <meta name="keywords" content="picasso, cad, sketch">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DAVINCI: A Single-Stage Architecture for Constrained CAD Sketches Inference</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script> -->
  <!-- <script>
     window.dataLayer = window.dataLayer || []; 
  
     function gtag() { 
       dataLayer.push(arguments); 
     }
  
     gtag('js', new Date());
  
     gtag('config', 'G-PYVRSFMDRL');
   </script> -->

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.png">

  <style>
      .custom-font {
          font-variant: small-caps;
      }
  </style>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
  
</head>

<body>

  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    <div class="navbar-menu">
      <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
        <a class="navbar-item" href="https://cvi2.uni.lu">
          <span class="icon">
            <i class="fas fa-home"></i>
          </span>
        </a>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            Related Papers
          </a>
          <div class="navbar-dropdown">
            
              <a class="navbar-item" href="https://arxiv.org/pdf/2407.13394">
                PICASSO: A Feed-Forward Framework for Parametric Inference of CAD Sketches via Rendering Self-Supervision
              </a>
            
              <a class="navbar-item" href="https://arxiv.org/pdf/2402.17678">
                CAD-SIGNet: CAD Language Inference from Point Clouds using Layer-wise Sketch Instance Guided Attention
              </a>
            
              <a class="navbar-item" href="https://arxiv.org/pdf/2208.10555">
                CADOps-Net: Jointly Learning CAD Operation Types and Steps from Boundary-Representations
              </a>
            
              <a class="navbar-item" href="https://arxiv.org/pdf/2407.12702">
                TransCAD: A Hierarchical Transformer for CAD Sequence Inference from Point Clouds
              </a>
            
              <a class="navbar-item" href="https://arxiv.org/pdf/2304.06531">
                SepicNet: Sharp Edges Recovery by Parametric Inference of Curves in 3D
              </a>
            
          </div>
        </div>
      </div>
    </div>
  </nav>


  <section class="hero">
    <div class="hero body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">DAVINCI: A Single-Stage Architecture for Constrained CAD Sketches Inference</h1>
            <div class="is-size-5 publication-authors">
              
                <span class="author-block">
                  <a href="https://askaradeniz.github.io">Ahmet Serdar Karadeniz</a><sup>1</sup>
                </span>
              
                <span class="author-block">
                  <a href="https://dimitrismallis.github.io/">Dimitrios Mallis</a><sup>1</sup>
                </span>
              
                <span class="author-block">
                  <a href="https://www.uni.lu/en/person/NTAwMzcwNjlfX05lc3J5bmUgTUVKUkk=/">Nesryne Mejri</a><sup>1</sup>
                </span>
              
                <span class="author-block">
                  <a href="https://www.linkedin.com/in/kseniya-cherenkova-a3a65a54/">Kseniya Cherenkova</a><sup>1, 2</sup>
                </span>
              
                <span class="author-block">
                  <a href="https://www.uni.lu/en/person/NTAwMzU1NDVfX0FuaXMgS0FDRU0=/">Anis Kacem</a><sup>1</sup>
                </span>
              
                <span class="author-block">
                  <a href="https://www.uni.lu/en/person/NTAwMDA0MzdfX0RqYW1pbGEgQU9VQURB/">Djamila Aouada</a><sup>1</sup>
                </span>
              
            </div>

            <div class="is-size-5 publication-authors">
              
                <span class="author-block"><sup>1</sup>SnT, University of Luxembourg</span>
              
                <span class="author-block"><sup>2</sup>Artec3D</span>
              
            </div>

            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- PDF Link. -->
                
                  <span class="link-block">
                    <a href="https://arxiv.org/pdf/2407.13394" class="external-link button is-normal is-rounded is-dark">
                      <span class="icon">
                        <i class="ai ai-arxiv"></i>
                      </span>
                      <span>arXiv</span>
                    </a>
                  </span>
                
                  <span class="link-block">
                    <a href="https://github.com/cvi2snt/CPTSketchGraphs" class="external-link button is-normal is-rounded is-dark">
                      <span class="icon">
                        <i class="fas fa-database"></i>
                      </span>
                      <span>CPTSketchGraphs</span>
                    </a>
                  </span>
                
              </div>
            </div>
          </div>
        </div>
        </div>
    </div>
  </section>

  <section class="hero teaser">
    <div class="container is-max-desktop">
      <div class="hero-body">
        
            
              <img src="./static/images/teaser.png" alt="Embedded image">
            
            <h2 class="subtitle has-text-centered">DAVINCI is a novel single-stage network for constrained CAD sketch parameterization.</h2>
        
        </h2>
      </div>
    </div>
  </section> 


  <!-- <section class="hero is-light is-small">
    <div class="hero-body">
      <div class="container">
        <div id="results-carousel" class="carousel results-carousel">
          <div class="item item-steve">
            <video poster="" id="steve" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/steve.mp4" type="video/mp4">
            </video>
          </div>
          <div class="item item-chair-tp">
            <video poster="" id="chair-tp" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/chair-tp.mp4" type="video/mp4">
            </video>
          </div>
          <div class="item item-shiba">
            <video poster="" id="shiba" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/shiba.mp4" type="video/mp4">
            </video>
          </div>
          <div class="item item-fullbody">
            <video poster="" id="fullbody" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/fullbody.mp4" type="video/mp4">
            </video>
          </div>
          <div class="item item-blueshirt">
            <video poster="" id="blueshirt" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/blueshirt.mp4" type="video/mp4">
            </video>
          </div>
          <div class="item item-mask">
            <video poster="" id="mask" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/mask.mp4" type="video/mp4">
            </video>
          </div>
          <div class="item item-coffee">
            <video poster="" id="coffee" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/coffee.mp4" type="video/mp4">
            </video>
          </div>
          <div class="item item-toby">
            <video poster="" id="toby" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/toby2.mp4" type="video/mp4">
            </video>
          </div>
        </div>
      </div>
    </div>
  </section> -->



  
  <section class="section">
    <div class="container is-max-desktop">
      <!-- Section. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <!-- <h2 class="title is-3">Introduction</h2> -->
          
            <h2 class="title is-3">Introduction</h2>
          
          <div class="block content has-text-justified">
            
              <p>This work proposes DAVINCI, a novel transformer-based architecture for simultaneous CAD sketch parameterization and constraint inference from sketch raster images. Departing from existing methods, which address primitive and constraint inference as distinct problems, DAVINCI employs a single-stage architecture. By predicting both primitives and constraints within a unified network, it effectively reduces the error accumulation associated with multi-stage processes, thereby achieving state-ofthe-art performance on the large-scale SketchGraphs dataset.</p>
              <div class="block center-media">
                
              </div>
            
              <p>In order to reduce the reliance of transformer-based architectures (including DAVINCI) on large-scale annotated dataset availability, this work explores data augmentation techniques tailored to CAD sketch applications. While data augmentation is commonplace in vision pipelines, they are less straightforward and often overlooked for CAD-related tasks. The proposed CAD sketch augmentation technique leverages the constraints of input sketches to create new CAD sketches preserving the constraints but with different parameterizations. The resulting CAD sketch augmentations have the advantage of bringing diversity, yet preserving the original distribution of CAD sketch images.</p>
              <div class="block center-media">
                
              </div>
            
            
          </div>
          
        </div>
      </div>
      <!--/ Section. -->

      <!-- Paper video. -->
      <!-- <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Video</h2>
          <div class="publication-video">
            <iframe src="https://www.youtube.com/embed/MrKrnHhk8IA?rel=0&amp;showinfo=0" frameborder="0"
              allow="autoplay; encrypted-media" allowfullscreen></iframe>
          </div>
        </div>
      </div> -->
      <!--/ Paper video. -->
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">
      <!-- Section. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <!-- <h2 class="title is-3">Method</h2> -->
          
            <h2 class="title is-3">Method</h2>
          
          <div class="block content has-text-justified">
            
              <p>DAVINCI is an encoder/decoder transformer network that jointly learns primitive parameterizations and their constraint relationships (i.e. sketch graph) from a raster CAD sketch image. To that end, it learns two types of token embeddings; [prim]-embeddings and [constr]-embeddings. A [prim]-embedding is learned for each primitive token and can be directly decoded to the token value dedicated MLP heads. A constraint prediction MLP head is used on the pair-wise combinations of these [const]-embeddings to infer the existence of geometric constraints between subreferences of primitives.</p>
              <div class="block center-media">
                
                  
                    
                      <img src="./static/images/architecture.png" alt="Embedded image">
                    
                  
                
              </div>
            
              <p><center> <b> Architecture of the Davinci. </b> </center></p>
              <div class="block center-media">
                
              </div>
            
              <p>Constraint-Preserving Transformations (CPTs) introduce a novel approach for data augmentation in CAD sketches. The core idea is to leverage the existing geometric constraints within sketches to generate plausible variations of the original design. The augmentation process is enabled via integration with FreeCAD softwareâ€™s API. A random local perturbation, such as the translation of a sketch point, is automatically applied to the CAD sketch. Due to the constraints associated with the manipulated point, this local change cascades across the sketch, modifying the parameterization of all connected primitives. Importantly, these transformations preserve the original geometric and topological relationships set by the constraints.</p>
              <div class="block center-media">
                
                  
                    
                      <img src="./static/images/cpt.png" alt="Embedded image">
                    
                  
                
              </div>
            
              <p><center> <b> Formation of a CPT via random local perturbations. </b> </center></p>
              <div class="block center-media">
                
              </div>
            
            
          </div>
          
        </div>
      </div>
      <!--/ Section. -->

      <!-- Paper video. -->
      <!-- <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Video</h2>
          <div class="publication-video">
            <iframe src="https://www.youtube.com/embed/MrKrnHhk8IA?rel=0&amp;showinfo=0" frameborder="0"
              allow="autoplay; encrypted-media" allowfullscreen></iframe>
          </div>
        </div>
      </div> -->
      <!--/ Paper video. -->
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">
      <!-- Section. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <!-- <h2 class="title is-3">Effectiveness of Davinci</h2> -->
          
            <h2 class="title is-3">Effectiveness of Davinci</h2>
          
          <div class="block content has-text-justified">
            
              <p></p>
              <div class="block center-media">
                
              </div>
            
            
          </div>
          
            <div class="subsections block content has-text-justified">
              
                <h3 class="title is-4">Constrained CAD Sketch Inference</h3>
                <div class="block content has-text-justified">
                  
                  
                    <p>We evaluate the performance of DAVINCI on the SketchGraphs dataset. Comparison is performed with the state-of-the-art method of Vitruvion on both precise and hand-drawn images. The proposed DAVINCI outperforms Vitruvion at both primitive and constraint levels.</p>
                    <div class="block center-media">
                      
                        
                          
                            <img src="./static/images/qualitative.png" alt="Embedded image">
                          
                        
                      
                    </div>
                  
                    <p><center> <b> Qualitative comparison with the state-of-the-art. </b> </center></p>
                    <div class="block center-media">
                      
                    </div>
                  
                </div>
              
                <h3 class="title is-4">Efficacy of the Constraints Preserving Transformations</h3>
                <div class="block content has-text-justified">
                  
                  
                    <p>We compare CPTs with two augmentation strategies; synthetic and rotated CAD sketches. Synthetic sketches are built iteratively by appending sampled primitives and constraints from a predefined set of sketch patterns (e.g. adding a new random line that remains parallel to an existing line or a new circle that is concentric to an existing circle). For rotated CAD sketches, we exclude the constraints that become invalid (e.g., horizontal) due to the sketch rotation. While both augmentation baseline methods enhance model performance at primitive and constraint levels, CPT-based augmentations achieve the best results, reaching a comparable performance w.r.t the upper bound..</p>
                    <div class="block center-media">
                      
                        
                          
                            <img src="./static/images/cpt_experiment.png" alt="Embedded image">
                          
                        
                      
                    </div>
                  
                    <p><center> <b> Comparison of different CAD sketch augmentation strategies. </b> </center></p>
                    <div class="block center-media">
                      
                    </div>
                  
                </div>
              
                <h3 class="title is-4">Future Reverse Engineering Applications</h3>
                <div class="block content has-text-justified">
                  
                  
                    <p>DAVINCI can also enable constrained CAD sketch inference on 2D cross-sections of 3D scans. Cross-sections are critical components of CAD reverse engineering pipelines and are obtained by designers via intersecting an existing 3D scan with a selected 2D plane. Preliminary qualitative examples show the applicability of DAVINCI within this reverse engineering scenario.</p>
                    <div class="block center-media">
                      
                        
                          
                            <img src="./static/images/cross_sections.png" alt="Embedded image">
                          
                        
                      
                    </div>
                  
                    <p><center> <b> Parameterization of 2D cross-sections. </b> </center></p>
                    <div class="block center-media">
                      
                    </div>
                  
                </div>
              
            </div>
          
        </div>
      </div>
      <!--/ Section. -->

      <!-- Paper video. -->
      <!-- <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Video</h2>
          <div class="publication-video">
            <iframe src="https://www.youtube.com/embed/MrKrnHhk8IA?rel=0&amp;showinfo=0" frameborder="0"
              allow="autoplay; encrypted-media" allowfullscreen></iframe>
          </div>
        </div>
      </div> -->
      <!--/ Paper video. -->
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">
      <!-- Section. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <!-- <h2 class="title is-3">Acknowledgements</h2> -->
          
            <h2 class="title is-3">Acknowledgements</h2>
          
          <div class="block content has-text-justified">
            
              <p>The present work is supported by the National Research Fund (FNR), Luxembourg under the BRIDGES2021/IS/16849599/FREE-3D project and Artec3D.</p>
              <div class="block center-media">
                
                  
                    
                      <img src="./static/images/logos.png" alt="Embedded image">
                    
                  
                
              </div>
            
            
          </div>
          
        </div>
      </div>
      <!--/ Section. -->

      <!-- Paper video. -->
      <!-- <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Video</h2>
          <div class="publication-video">
            <iframe src="https://www.youtube.com/embed/MrKrnHhk8IA?rel=0&amp;showinfo=0" frameborder="0"
              allow="autoplay; encrypted-media" allowfullscreen></iframe>
          </div>
        </div>
      </div> -->
      <!--/ Paper video. -->
    </div>
  </section>

        

  <section class="section">
    <div class="container is-max-desktop">

      <!-- <div class="columns is-centered"> -->

        <!-- Visual Effects. -->
        <!-- <div class="column">
          <div class="content">
            <h2 class="title is-3">Visual Effects</h2>
            <p>
              Using <i>nerfies</i> you can create fun visual effects. This Dolly zoom effect
              would be impossible without nerfies since it would require going through a wall.
            </p>
            <video id="dollyzoom" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/dollyzoom-stacked.mp4" type="video/mp4">
            </video>
          </div>
        </div> -->
        <!--/ Visual Effects. -->

        <!-- Matting. -->
        <!-- <div class="column">
          <h2 class="title is-3">Matting</h2>
          <div class="columns is-centered">
            <div class="column content">
              <p>
                As a byproduct of our method, we can also solve the matting problem by ignoring
                samples that fall outside of a bounding box during rendering.
              </p>
              <video id="matting-video" controls playsinline height="100%">
                <source src="./static/videos/matting.mp4" type="video/mp4">
              </video>
            </div>

          </div>
        </div>
      </div> -->
      <!--/ Matting. -->

      <!-- Animation. -->
      <!-- <div class="columns is-centered">
        <div class="column is-full-width">
          <h2 class="title is-3">Animation</h2> -->

          <!-- Interpolating. -->
          <!-- <h3 class="title is-4">Interpolating states</h3>
          <div class="content has-text-justified">
            <p>
              We can also animate the scene by interpolating the deformation latent codes of two input
              frames. Use the slider here to linearly interpolate between the left frame and the right
              frame.
            </p>
          </div>
          <div class="columns is-vcentered interpolation-panel">
            <div class="column is-3 has-text-centered">
              <img src="./static/images/interpolate_start.jpg" class="interpolation-image"
                alt="Interpolate start reference image." />
              <p>Start Frame</p>
            </div>
            <div class="column interpolation-video-column">
              <div id="interpolation-image-wrapper">
                Loading...
              </div>
              <input class="slider is-fullwidth is-large is-info" id="interpolation-slider" step="1" min="0" max="100"
                value="0" type="range">
            </div>
            <div class="column is-3 has-text-centered">
              <img src="./static/images/interpolate_end.jpg" class="interpolation-image"
                alt="Interpolation end reference image." />
              <p class="is-bold">End Frame</p>
            </div>
          </div>
          <br /> -->
          <!--/ Interpolating. -->

          <!-- Re-rendering. -->
          <!-- <h3 class="title is-4">Re-rendering the input video</h3>
          <div class="content has-text-justified">
            <p>
              Using <span class="dnerf">Nerfies</span>, you can re-render a video from a novel
              viewpoint such as a stabilized camera by playing back the training deformations.
            </p>
          </div>
          <div class="content has-text-centered">
            <video id="replay-video" controls muted preload playsinline width="75%">
              <source src="./static/videos/replay.mp4" type="video/mp4">
            </video>
          </div> -->
          <!--/ Re-rendering. -->

        <!-- </div>
      </div> -->
      <!--/ Animation. -->


      <!-- Concurrent Work. -->
      <!-- <div class="columns is-centered">
        <div class="column is-full-width">
          <h2 class="title is-3">Related Works</h2>

          <div class="content has-text-justified">
            
            <p>
              
                <a href="https://www.relatedwork1.com">Related Work 1</a>
              
                <a href="https://www.relatedwork2.com">Related Work 2</a>
              
              This is a body text about the first related work.
            </p>
            
            <p>
              
                <a href="https://www.relatedwork3.com">Related Work 3</a>
              
                <a href="https://www.relatedwork4.com">Related Work 4</a>
              
              This is a body text about the second related work.
            </p>
            
          </div>
        </div>
      </div> -->
      <!--/ Concurrent Work. -->

    </div>
  </section>


  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      <pre><code>@inproceedings{Karadeniz2024DAVINCIAS,
  title={DAVINCI: A Single-Stage Architecture for Constrained CAD Sketch Inference},
  author={Ahmet Serdar Karadeniz and Dimitrios Mallis and Nesryne Mejri and Kseniya Cherenkova and Anis Kacem and Djamila Aouada},
  year={2024},
  journal={BMVC}
}</code></pre>
    </div>
  </section>


  <footer class="footer">
    <div class="container">
      <div class="content has-text-centered">
        
          <a class="icon-link" href="https://x.com/CVI2vision">
            <i class="fab fa-twitter"></i>
          </a>
        
          <a class="icon-link" href="https://www.linkedin.com/school/snt-lu/">
            <i class="fab fa-linkedin"></i>
          </a>
        
      </div>
      <div class="columns is-centered">
        <div class="column is-8">
          <div class="content">
            <p>
              This website is licensed under a <a rel="license"
                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
                Commons Attribution-ShareAlike 4.0 International License</a>.
            </p>
            <p>
              This page is created using the source code of the <a href="https://github.com/nerfies/nerfies.github.io">Nerfies</a> website. Leave the link to the original source code should you decide to reuse it.
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>


    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const keyword = "DAVINCI";
            const elements = document.body.querySelectorAll("*:not(script):not(style):not(meta)");

            elements.forEach(element => {
                if (element.children.length === 0) { // Only process elements without child elements
                    element.innerHTML = element.innerHTML.replace(new RegExp(keyword, 'g'), `<span class="custom-font">${keyword}</span>`);
                }
            });
        });
    </script>


</body>

</html>